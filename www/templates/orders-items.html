<ion-view view-title="{{vm.screenTitle | translate}}" cache-view="false">
    <ion-nav-buttons side="right">
        <a class="button button-icon icon ion-plus-circled" ng-click="vm.openAddNewItem()"></a>
    </ion-nav-buttons>

    <ion-content>
        <ion-list>
            <ion-item ng-if="vm.adminUser" class="item item-divider text-center">
                {{vm.order.client.get('folio')}} - {{vm.order.client.fullName}}
            </ion-item>
            <ion-item class="item item-icon-left"
                      ng-repeat="item in vm.order.items track by $index"
                      ng-click="vm.openEditItem(item)">
                <h4 class="icon">{{item.get('quantity')}}</h4>
                <p class="item-note text-right">
                    PU: {{item.price | currency}} MXN
                    <br/>
                    TL: {{item.totals | currency}} MXN
                </p>
                <h2>{{item.description}}</h2>
                <h2>{{item.sku}}</h2>
            </ion-item>
            <ion-item class="item item-divider text-center">
                Total: {{vm.order.totals | currency}} MXN
            </ion-item>
            <ion-item>
                <button class="button button-block button-positive icon-left ion-checkmark-circled"
                        ng-disabled="vm.order.items.length < 1"
                        ng-click="vm.saveCurrentOrder()">
                    Terminar Pedido
                </button>
            </ion-item>
        </ion-list>
    </ion-content>

</ion-view>